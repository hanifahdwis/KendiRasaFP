<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil - KENDIRASA</title>
    <link rel="stylesheet" href="../css/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <div class="dashboard-container">
        
        <aside class="sidebar">
    <div class="nav-item profile-icon-sidebar">
        <i class="fa-regular fa-circle-user"></i>
    </div>
    
    <div class="nav-menu">
        <div class="nav-item" onclick="window.location.href='mainpage.html'">
            <i class="fa-solid fa-house"></i>
        </div>
        
        <div class="nav-item" onclick="window.location.href='archive.html'">
            <i class="fa-solid fa-calendar-days"></i>
        </div>
        
        <div class="nav-item" onclick="window.location.href='customMood.html'">
            <i class="fa-regular fa-face-smile"></i>
        </div>
    </div>
    
    <button class="logout-btn" id="logoutBtn">
        <i class="fa-solid fa-arrow-right-from-bracket"></i>
    </button> 
</aside>

        <main class="main-content">
            <h1 class="page-title">PROFIL</h1>

            <div class="profile-header">
                <div class="profile-pic-wrapper">
                    <img src="../image/profile.png" alt="Profile" id="profileImage">
                </div>
                
                <div class="profile-details">
                    <h2 id="displayName">Memuat...</h2>
                    
                    <button class="edit-btn" id="editBtn">
                        <i class="fa-solid fa-pen"></i> edit profil
                    </button>
                    
                    <button class="save-btn" id="saveBtn">
                        <i class="fa-solid fa-check"></i> Simpan
                    </button>
                </div>
            </div>

            <form id="profileForm" class="info-section">
                <div class="info-card">
                    <label class="info-label">nama pengguna</label>
                    <input type="text" class="info-input" id="usernameInput" disabled>
                </div>

                <div class="info-card">
                    <label class="info-label">password</label>
                    <input 
                    type="password" 
                    class="info-input" 
                    id="passwordInput" 
                    value="********" 
                    readonly
                    style="cursor: pointer;"
                    >
                    <i class="fa-regular fa-eye password-toggle" id="togglePassword"></i>
                </div>

                <div class="info-card">
                    <label class="info-label">anggota sejak</label>
                    <input type="text" class="info-input" id="joinedInput" disabled style="color: #555;">
                </div>
            </form>
            
            <div style="margin-top: 30px; text-align: right;">
                <button id="deleteAccountBtn" style="color: #dc3545; background: none; border: none; cursor: pointer; font-family: 'Montserrat'; font-weight: 600;">
                    <i class="fa-solid fa-trash"></i> Hapus Akun
                </button>
            </div>

        </main>
    </div>

     <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <h2>Ganti Password</h2>
            
            <!-- Notifikasi -->
            <div id="passwordMessage" class="alert" style="display: none;"></div>
            
            <form id="changePasswordForm">
                <div class="form-group">
                    <label>Password Lama</label>
                    <div style="position: relative;">
                        <input type="password" id="currentPassword" placeholder="Masukkan password lama" required>
                        <i class="fa-regular fa-eye password-toggle-modal" id="toggleCurrentPassword" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Password Baru</label>
                    <div style="position: relative;">
                        <input type="password" id="newPassword" placeholder="Masukkan password baru (min. 6 karakter)" required>
                        <i class="fa-regular fa-eye password-toggle-modal" id="toggleNewPassword" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Konfirmasi Password Baru</label>
                    <div style="position: relative;">
                        <input type="password" id="confirmPassword" placeholder="Ulangi password baru" required>
                        <i class="fa-regular fa-eye password-toggle-modal" id="toggleConfirmPassword" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn-submit">Simpan Password</button>
                    <button type="button" class="btn-cancel" id="cancelBtn">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/api.js"></script>
    <script src="../js/profile.js"></script>

</body>
</html>